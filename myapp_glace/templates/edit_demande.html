{% extends "base.html" %}

{% block content %}
<h1>Modifier la demande</h1>
<form method="post" class="styled-form">
    <div class="form-group">
        <label for="client_email">Email du client:</label>
        <select id="client_email" name="client_email" required>
            {% for client in clients %}
            <option value="{{ client.email }}" {% if client.email == client_info.email %}selected{% endif %}>
                {{ client.nom }} {{ client.prenom }} ({{ client.email }})
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="proprietaire_email">Email du propriétaire:</label>
        <select id="proprietaire_email" name="proprietaire_email" required>
            {% for proprietaire in proprietaires %}
            <option value="{{ proprietaire.email }}" {% if proprietaire.email == proprietaire_info.email %}selected{% endif %}>
                {{ proprietaire.nom }} {{ proprietaire.prenom }} ({{ proprietaire.email }})
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="quantite">Quantité:</label>
        <input type="number" id="quantite" name="quantite" value="{{ demande.quantite }}" required>
    </div>

    <div class="form-group">
        <label for="etat">État:</label>
        <select name="etat" id="etat" required>
            <option value="attendant" {% if demande.etat == "attendant" %}selected{% endif %}>attendant</option>
            <option value="acceptée" {% if demande.etat == "acceptée" %}selected{% endif %}>acceptée</option>
            <option value="refusée" {% if demande.etat == "refusée" %}selected{% endif %}>refusée</option>
        </select>
    </div>

    <button type="submit" class="submit-button">Modifier</button>
</form>
<a href="{{ url_for('get_demandes') }}" class="back-button">Retour à la liste des demandes</a>
{% endblock %}
